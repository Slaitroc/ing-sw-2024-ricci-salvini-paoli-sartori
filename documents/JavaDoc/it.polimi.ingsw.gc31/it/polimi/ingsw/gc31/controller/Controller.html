<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) on Fri Jun 28 08:28:00 CEST 2024 -->
<title>Controller</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-06-28">
<meta name="description" content="declaration: module: it.polimi.ingsw.gc31, package: it.polimi.ingsw.gc31.controller, class: Controller">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">it.polimi.ingsw.gc31</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.gc31.controller</a></div>
<h1 title="Class Controller" class="title">Class Controller</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html" title="class or interface in java.rmi.server" class="external-link">java.rmi.server.RemoteObject</a>
<div class="inheritance"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteServer.html" title="class or interface in java.rmi.server" class="external-link">java.rmi.server.RemoteServer</a>
<div class="inheritance"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html" title="class or interface in java.rmi.server" class="external-link">java.rmi.server.UnicastRemoteObject</a>
<div class="inheritance">it.polimi.ingsw.gc31.controller.Controller</div>
</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../client_server/interfaces/IController.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">IController</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/Remote.html" title="class or interface in java.rmi" class="external-link">Remote</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Controller</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html" title="class or interface in java.rmi.server" class="external-link">UnicastRemoteObject</a>
implements <a href="../client_server/interfaces/IController.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">IController</a></span></div>
<div class="block">This class represents the main controller of all the games that ar currently
 running.
 It manages the interaction with the clients and the creation of game
 controllers for each match.
 It implements the IController interface and extends the UnicastRemoteObject
 to allow remote method invocation.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../serialized-form.html#it.polimi.ingsw.gc31.controller.Controller">Serialized Form</a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a><wbr>&lt;<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#clientsHeartBeat" class="member-name-link">clientsHeartBeat</a></code></div>
<div class="col-last even-row-color">
<div class="block">Map of Clients linked to the last time the heartbeat was received from that
 client</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr>javafx.util.Pair&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#disconnected" class="member-name-link">disconnected</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map of Tokens linked to clients and that disconnected from a game</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="GameController.html" title="class in it.polimi.ingsw.gc31.controller">GameController</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#gameControlList" class="member-name-link">gameControlList</a></code></div>
<div class="col-last even-row-color">
<div class="block">List of Game Controllers</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#newConnections" class="member-name-link">newConnections</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map with tokens linked to clients useful to recognize a client even without
 the username</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#nicknames" class="member-name-link">nicknames</a></code></div>
<div class="col-last even-row-color">
<div class="block">List of used nicknames, to block repeated usernames even in different games</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#tempClients" class="member-name-link">tempClients</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Map of temporary connected clients that are not yet in a game or that quit
 from a game</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-java.rmi.server.RemoteObject">Fields inherited from class&nbsp;java.rmi.server.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html" title="class or interface in java.rmi.server" class="external-link">RemoteObject</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#ref" title="class or interface in java.rmi.server" class="external-link">ref</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkHeartBeats()" class="member-name-link">checkHeartBeats</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method get the current time, expressed in milliseconds, in the variable
 "now".</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#connect(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,java.lang.String,java.lang.Integer,java.lang.Integer)" class="member-name-link">connect</a><wbr>(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;tempToken,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Connects a client to the server.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createGame(java.lang.String,int)" class="member-name-link">createGame</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;maxNumPlayer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new game and adds it to the game control list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disconnect(java.lang.String,int,int)" class="member-name-link">disconnect</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;idGame,
 int&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#generateToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)" class="member-name-link">generateToken</a><wbr>(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;newConnection)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method generates a unique token (from 0 to 999) every time a new client
 connects with the server
 Every token value is associated with its client in the newConnections map</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Controller.html" title="class in it.polimi.ingsw.gc31.controller">Controller</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getController()" class="member-name-link">getController</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Controller getter</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGameList(int)" class="member-name-link">getGameList</a><wbr>(int&nbsp;token)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a list of the current games.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRightConnection(int)" class="member-name-link">getRightConnection</a><wbr>(int&nbsp;token)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method return the specific VirtualClient associated with the unique
 token received as a parameter
 The newConnections map contains every client connected with the server and
 the unique token associated with it</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#joinGame(java.lang.String,int)" class="member-name-link">joinGame</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;idGame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Allows a client to join an existing game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#quitGame(java.lang.String,it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)" class="member-name-link">quitGame</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method add the client (that just quit a game lobby) to the map
 tempClients.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rejoin(int,int,boolean)" class="member-name-link">rejoin</a><wbr>(int&nbsp;tempToken,
 int&nbsp;token,
 boolean&nbsp;esito)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when a client wants to rejoin a game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendCommand(it.polimi.ingsw.gc31.client_server.queue.serverQueue.ServerQueueObject)" class="member-name-link">sendCommand</a><wbr>(<a href="../client_server/queue/serverQueue/ServerQueueObject.html" title="class in it.polimi.ingsw.gc31.client_server.queue.serverQueue">ServerQueueObject</a>&nbsp;obj)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method request to add to the list of object the new object received from
 a client</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,int,boolean)" class="member-name-link">sendToken</a><wbr>(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;newConnection,
 int&nbsp;token,
 boolean&nbsp;temporary)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called every time the controller needs to save a token on the
 client side.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateHeartBeat(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)" class="member-name-link">updateHeartBeat</a><wbr>(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is invoked for every heartBeatObj received.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.rmi.server.UnicastRemoteObject">Methods inherited from class&nbsp;java.rmi.server.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html" title="class or interface in java.rmi.server" class="external-link">UnicastRemoteObject</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#clone()" title="class or interface in java.rmi.server" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#exportObject(java.rmi.Remote)" title="class or interface in java.rmi.server" class="external-link">exportObject</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#exportObject(java.rmi.Remote,int)" title="class or interface in java.rmi.server" class="external-link">exportObject</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#exportObject(java.rmi.Remote,int,java.io.ObjectInputFilter)" title="class or interface in java.rmi.server" class="external-link">exportObject</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#exportObject(java.rmi.Remote,int,java.rmi.server.RMIClientSocketFactory,java.rmi.server.RMIServerSocketFactory)" title="class or interface in java.rmi.server" class="external-link">exportObject</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#exportObject(java.rmi.Remote,int,java.rmi.server.RMIClientSocketFactory,java.rmi.server.RMIServerSocketFactory,java.io.ObjectInputFilter)" title="class or interface in java.rmi.server" class="external-link">exportObject</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/UnicastRemoteObject.html#unexportObject(java.rmi.Remote,boolean)" title="class or interface in java.rmi.server" class="external-link">unexportObject</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.rmi.server.RemoteServer">Methods inherited from class&nbsp;java.rmi.server.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteServer.html" title="class or interface in java.rmi.server" class="external-link">RemoteServer</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteServer.html#getClientHost()" title="class or interface in java.rmi.server" class="external-link">getClientHost</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteServer.html#getLog()" title="class or interface in java.rmi.server" class="external-link">getLog</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteServer.html#setLog(java.io.OutputStream)" title="class or interface in java.rmi.server" class="external-link">setLog</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.rmi.server.RemoteObject">Methods inherited from class&nbsp;java.rmi.server.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html" title="class or interface in java.rmi.server" class="external-link">RemoteObject</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#equals(java.lang.Object)" title="class or interface in java.rmi.server" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#getRef()" title="class or interface in java.rmi.server" class="external-link">getRef</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#hashCode()" title="class or interface in java.rmi.server" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#toString()" title="class or interface in java.rmi.server" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/server/RemoteObject.html#toStub(java.rmi.Remote)" title="class or interface in java.rmi.server" class="external-link">toStub</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="gameControlList">
<h3>gameControlList</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="GameController.html" title="class in it.polimi.ingsw.gc31.controller">GameController</a>&gt;</span>&nbsp;<span class="element-name">gameControlList</span></div>
<div class="block">List of Game Controllers</div>
</div>
</section>
</li>
<li>
<section class="detail" id="tempClients">
<h3>tempClients</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&gt;</span>&nbsp;<span class="element-name">tempClients</span></div>
<div class="block">Map of temporary connected clients that are not yet in a game or that quit
 from a game</div>
</div>
</section>
</li>
<li>
<section class="detail" id="nicknames">
<h3>nicknames</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">nicknames</span></div>
<div class="block">List of used nicknames, to block repeated usernames even in different games</div>
</div>
</section>
</li>
<li>
<section class="detail" id="newConnections">
<h3>newConnections</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&gt;</span>&nbsp;<span class="element-name">newConnections</span></div>
<div class="block">Map with tokens linked to clients useful to recognize a client even without
 the username</div>
</div>
</section>
</li>
<li>
<section class="detail" id="disconnected">
<h3>disconnected</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr>javafx.util.Pair&lt;<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&gt;</span>&nbsp;<span class="element-name">disconnected</span></div>
<div class="block">Map of Tokens linked to clients and that disconnected from a game</div>
</div>
</section>
</li>
<li>
<section class="detail" id="clientsHeartBeat">
<h3>clientsHeartBeat</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentHashMap</a>&lt;<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">clientsHeartBeat</span></div>
<div class="block">Map of Clients linked to the last time the heartbeat was received from that
 client</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="sendCommand(it.polimi.ingsw.gc31.client_server.queue.serverQueue.ServerQueueObject)">
<h3>sendCommand</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendCommand</span><wbr><span class="parameters">(<a href="../client_server/queue/serverQueue/ServerQueueObject.html" title="class in it.polimi.ingsw.gc31.client_server.queue.serverQueue">ServerQueueObject</a>&nbsp;obj)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">This method request to add to the list of object the new object received from
 a client</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../client_server/interfaces/IController.html#sendCommand(it.polimi.ingsw.gc31.client_server.queue.serverQueue.ServerQueueObject)">sendCommand</a></code>&nbsp;in interface&nbsp;<code><a href="../client_server/interfaces/IController.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">IController</a></code></dd>
<dt>Parameters:</dt>
<dd><code>obj</code> - is the new object to be added</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an error occurs in the rmi connection</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="generateToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)">
<h3>generateToken</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">generateToken</span><wbr><span class="parameters">(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;newConnection)</span></div>
<div class="block">This method generates a unique token (from 0 to 999) every time a new client
 connects with the server
 Every token value is associated with its client in the newConnections map</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newConnection</code> - is the VirtualClient that just connected to the server</dd>
<dt>Returns:</dt>
<dd>the token generated</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sendToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,int,boolean)">
<h3>sendToken</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendToken</span><wbr><span class="parameters">(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;newConnection,
 int&nbsp;token,
 boolean&nbsp;temporary)</span></div>
<div class="block">This method is called every time the controller needs to save a token on the
 client side.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newConnection</code> - is the VirtualClient that will receive the token</dd>
<dd><code>token</code> - is the token to be saved</dd>
<dd><code>temporary</code> - is true if the token to be set is temporary, false
                      otherwise. If false overrides the previously saved token</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="connect(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,java.lang.String,java.lang.Integer,java.lang.Integer)">
<h3>connect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">connect</span><wbr><span class="parameters">(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;tempToken,
 <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;token)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">Connects a client to the server.
 <ul>
 <li>If the token is -1, the client is connecting for the first time and a
 temporary token is generated and sent to the client. In this case the
 procedure <code>usernameValidation(String, VirtualClient)</code> is
 called to check the name and send the corresponding ClientObject to the
 client. If the usernameValidation return true the token sent is locally saved
 on the client side by correctly invoking the
 <a href="#sendToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,int,boolean)"><code>sendToken(VirtualClient, int, boolean)</code></a> method.
 <li>If the token is not -1 ,and the client is contained in
 <a href="#disconnected"><code>disconnected</code></a>, the client is trying to reconnect and a
 <a href="../client_server/queue/clientQueue/WantsReconnectObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>WantsReconnectObj</code></a> with the previous username is sent to the client.
 If the
 client is not contained in the disconnected map, the client is connecting for
 the first time and the procedure
 <code>usernameValidation(String, VirtualClient)</code> is called to
 check the name and send the corresponding ClientObject to the client. If the
 usernameValidation return true the token sent is locally saved
 overriding the previously saved token on the client side by correctly
 invoking the <a href="#sendToken(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient,int,boolean)"><code>sendToken(VirtualClient, int, boolean)</code></a>
 method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>client</code> - the VirtualClient to connect.</dd>
<dd><code>username</code> - the username of the client.</dd>
<dd><code>tempToken</code> - the temporary token of the client.</dd>
<dd><code>token</code> - the token of the client.</dd>
<dt>Returns:</dt>
<dd>false if wrong username, true if connection is successful</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if general connection error occurs</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="rejoin(int,int,boolean)">
<h3>rejoin</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rejoin</span><wbr><span class="parameters">(int&nbsp;tempToken,
 int&nbsp;token,
 boolean&nbsp;esito)</span></div>
<div class="block">This method is called when a client wants to rejoin a game.
 If the clients want to rejoin a <a href="../client_server/queue/clientQueue/ReJoinedObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>ReJoinedObj</code></a> with the previous
 username and a boolean value set to true is sent to the client (other
 parameters of the object are required for the GUI).
 If the client doesn't want to rejoin a <a href="../client_server/queue/clientQueue/ReJoinedObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>ReJoinedObj</code></a> with the previous
 username and a boolean value set to false is sent to the client (other
 parameters of the object are required for the GUI).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tempToken</code> - is the temporary token of the client</dd>
<dd><code>token</code> - is the token of the client</dd>
<dd><code>esito</code> - is the boolean value that indicates if the client wants to
                  rejoin the game</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="createGame(java.lang.String,int)">
<h3>createGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createGame</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;maxNumPlayer)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">Creates a new game and adds it to the game control list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - the username of the client creating the game.</dd>
<dd><code>maxNumPlayer</code> - the maximum number of players for the game.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an RMI error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="joinGame(java.lang.String,int)">
<h3>joinGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">joinGame</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;idGame)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">Allows a client to join an existing game.
 <p>
 If the game does not exist, a <a href="../client_server/queue/clientQueue/GameDoesNotExistObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>GameDoesNotExistObj</code></a> is sent to the
 client.
 If the game is full, a <a href="../client_server/queue/clientQueue/GameIsFullObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>GameIsFullObj</code></a> is sent to the client.
 If the game is not full, a <a href="../client_server/queue/serverQueue/JoinGameObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.serverQueue"><code>JoinGameObj</code></a> is sent to the game
 controller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - the username of the client joining the game.</dd>
<dd><code>idGame</code> - the ID of the game to join.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an RMI error occurs.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="GameController.html#joinGame(java.lang.String,it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)"><code>GameController.joinGame(String, VirtualClient)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="quitGame(java.lang.String,it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)">
<h3>quitGame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">quitGame</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 <a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">This method add the client (that just quit a game lobby) to the map
 tempClients.
 Then it sends a <a href="../client_server/queue/clientQueue/QuitFromGameRObj.html" title="class in it.polimi.ingsw.gc31.client_server.queue.clientQueue"><code>QuitFromGameRObj</code></a> to the client that requested to quit</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - is the username of the player that just quit</dd>
<dd><code>client</code> - is the client that requested to quit from a lobby</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an error occurs in the rmi connection</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getController()">
<h3>getController</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Controller.html" title="class in it.polimi.ingsw.gc31.controller">Controller</a></span>&nbsp;<span class="element-name">getController</span>()</div>
<div class="block">Controller getter</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the singleton instance.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getGameList(int)">
<h3>getGameList</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getGameList</span><wbr><span class="parameters">(int&nbsp;token)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a>,
<a href="../exceptions/NoGamesException.html" title="class in it.polimi.ingsw.gc31.exceptions">NoGamesException</a></span></div>
<div class="block">Returns a list of the current games.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - username of player to whom sent the message</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an RMI error occurs.</dd>
<dd><code><a href="../exceptions/NoGamesException.html" title="class in it.polimi.ingsw.gc31.exceptions">NoGamesException</a></code> - if there are no current games.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getRightConnection(int)">
<h3>getRightConnection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a></span>&nbsp;<span class="element-name">getRightConnection</span><wbr><span class="parameters">(int&nbsp;token)</span></div>
<div class="block">This method return the specific VirtualClient associated with the unique
 token received as a parameter
 The newConnections map contains every client connected with the server and
 the unique token associated with it</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../client_server/interfaces/IController.html#getRightConnection(int)">getRightConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../client_server/interfaces/IController.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">IController</a></code></dd>
<dt>Parameters:</dt>
<dd><code>token</code> - is the token associated to the VirtualClient t</dd>
<dt>Returns:</dt>
<dd>the VirtualClient that has the given token</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="checkHeartBeats()">
<h3>checkHeartBeats</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkHeartBeats</span>()</div>
<div class="block">This method get the current time, expressed in milliseconds, in the variable
 "now".
 Then, for every VirtualClient in the clientsHeartBeat list, the method checks
 if the last heart beat
 received from the client is older than 10 seconds.
 If the condition is true the client is considered crashed and the method
 remove the client from the list,
 also closes the connection towards the client.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="updateHeartBeat(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)">
<h3>updateHeartBeat</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateHeartBeat</span><wbr><span class="parameters">(<a href="../client_server/interfaces/VirtualClient.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">VirtualClient</a>&nbsp;client)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></span></div>
<div class="block">This method is invoked for every heartBeatObj received.
 The method updates the time value kept in the clientsHeartBeat for the client
 that sent it.
 Furthermore, if an heartBeat arrives but the client is not in the Map a
 specific message is written</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../client_server/interfaces/IController.html#updateHeartBeat(it.polimi.ingsw.gc31.client_server.interfaces.VirtualClient)">updateHeartBeat</a></code>&nbsp;in interface&nbsp;<code><a href="../client_server/interfaces/IController.html" title="interface in it.polimi.ingsw.gc31.client_server.interfaces">IController</a></code></dd>
<dt>Parameters:</dt>
<dd><code>client</code> - is the client that sent the heart beat</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.rmi/java/rmi/RemoteException.html" title="class or interface in java.rmi" class="external-link">RemoteException</a></code> - if an error occurs in the rmi connection</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="disconnect(java.lang.String,int,int)">
<h3>disconnect</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disconnect</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username,
 int&nbsp;idGame,
 int&nbsp;token)</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
